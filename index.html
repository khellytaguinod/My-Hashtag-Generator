<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Hashtag Generator</title>
	
	<!-- bootstrap 4 CDN -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<!-- bootstrap 4 CDN -->
	<link rel="stylesheet" type="text/css" href="css/main.css">

</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-3">
				<h1 class="display-1 text-center">#</h1>
			</div>
			<div class="col-md-9 test">
				<div class="row">
					<div class="col-md-12">
						<form>
						 <fieldset>
						  <legend>My Awesome Hashtag Generator</legend>
						   <input id="message" type="text" class="form-control input-lg"
			                onClick="handleClick()"
			                onKeypress="handleKeyPress(event)"
			                onBlur="handleBlur(event)"
			                placeholder="Enter your message or paste some text here.">
              			  <button type="button" class="btn btn-secondary" onclick="generateHashtag()">Generate my hashtags!</button>
						 </fieldset>
						</form>

					</div>
					<div class="col-md-12">
						<form>
						 <fieldset>
						  <legend>Your Hashtags</legend>
						  
						  <textarea class="form-control" id="results" placeholder="It's lonely here. Generate some hashtags!" readonly></textarea>
						 </fieldset>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
<script type="text/javascript">
	let removePunctuations = function(input) {
      return input.replace(/[&\/\\#,+()$~%.'":;*?<>{}\^\@\-\=\`\!]/g, '');
    }
    let generateHashtag = function(message) {
      let input = document.getElementById("message").value.trim();
      let cleanString = removePunctuations(input);

      let words = cleanString.split(" ");
      let results = words.map( word => ` #${word}` )
        .filter(word => word.length > 2)
        .join(" ")
        .toLowerCase();

      // display results
      document.getElementById("results").innerHTML = results;
    };
    let handleClick = function() {
      document.getElementById("message").placeholder = "";
    }
    function handleKeyPress(e){
        if(e.keyCode === 13){
            e.preventDefault(); // Ensure it is only this code that rusn
            generateHashtag();
        }
    }
    function handleBlur(e){
        e.preventDefault(); // Ensure it is only this code that rusn
        document.getElementById("message").placeholder =
          "Enter your message or paste some text here.";
    }
</script>

</body>
</html>